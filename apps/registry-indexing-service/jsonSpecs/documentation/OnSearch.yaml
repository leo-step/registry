description: a Buyer's search request
content:
  application/json:
    schema:
      type: object
      properties:
        action:
          enum:
            - SEARCH
        callback_reference: 
          description: the reference identifiers used during a buyer <> provider transaction lifecycle to connect the requests over multiple network requests and callback cycles.
          type: object
          properties:
            transaction_id:
                description: a unique id representing the session of a Buyer. Used across all communications throughout a Buyer's transaction lifecycle
                type: string
            message_id:
                description: generated by the <code>BSN</code> - a unique id representing a specific request/callback cycle
                type: string
          required:
            - transaction_id
            - message_id
        bsn_parameters:
          type: object
          properties:
            uid: 
                $ref: '../schemas/entities/Node.yaml#/properties/uid'
            name: 
                $ref: '../schemas/entities/Node.yaml#/properties/name'
            callback_url: 
                $ref: '../schemas/entities/Node.yaml#/properties/callback_url'
          required:
            - uid
            - name
            - callback_url
        message:
          type: object
          properties:
            intent:
              description: A Buyers search intent to purchase or avail items from the network.
              type: object
              properties:
                search_string:
                  description: A raw free text search string describing the name or description of a seller.
                  type: string
                fulfillment:
                  type: object
                  properties:
                    coordinates:
                      description: A location based search describing the position in space where the product or service is to be availed.
                      $ref: '../schemas/primitives/Coordinates.yaml'
                    fulfillment_mode:
                      description: the Buyer's intended means of receiving the goods or services
                      $ref: '../schemas/primitives/FulfillmentMode.yaml'
                provider:
                  description: Details of the provider that the Buyer wants to order from, including a detailed descriptor for name-based searches.
                  type: object
                  properties:
                    descriptor:
                      type: object
                      properties:
                        name:
                          description: The name of the provider, allowing for specific provider level search queries like 'Bob's Pizza'.
                          type: string
                        id:
                          $ref: '../schemas/entities/Provider.yaml#/properties/id'
                merchant_category_codes:
                  type: array
                  items:
                    $ref: '../schemas/primitives/MerchantCategoryCode.yaml'
                  description: Array of merchant category codes
                item:
                  description: Details of the item that the Buyer wants to order, including a detailed descriptor for name-based searches.
                  type: object
                  properties:
                    descriptor:
                      type: object
                      properties:
                        name:
                          description: The name of the item, allowing for specific item level search queries like 'Bread and Milk'.
                          type: string
                        id:
                          $ref: '../schemas/CatalogItem.yaml#/properties/id'
                cuisine_types:
                  description: Details of the cuisine types that the Buyer wants to avail.
                  type: array
                  items:
                    description: The network defined array of strings, i.e., Burger, Pizza
                    type: string
                fulfillment_modes:
                  description: The modes of fulfillment that the Buyer is interested in
                  type: array
                  items:
                    $ref: '../schemas/primitives/FulfillmentMode.yaml'
              required:
                - intent
      required:
        - action
        - message
        - callback_reference
        - bsn_parameters
